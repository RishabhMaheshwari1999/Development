<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IndexDB Demo</title>
</head>
<body>
    DataBase-Name <input id="database-name" type="text">
    Version <input id="version" type="text">
    <button id="openDB">Open-Database</button>
    <script>
        let db;
        let dbName = document.querySelector("#database-name");
        let dbVersion = document.querySelector("#version");
        let openBttn = document.querySelector("#openDB")
        

        openBttn.addEventListener("click",opendb);
        function opendb(){
            let dbRequest = indexedDB.open(dbName.value,dbVersion.value);
            dbRequest.onsuccess = function(e){
                alert("In Success Event");
                db = e.target.result;
                console.log(db);
            };

            dbRequest.onupgradeneeded = function(e){
                alert("In Upgrade Event");
                db = e.target.result;
                let mediaTable = db.createObjectStore("Media",{keyPath:"mid"});
                
            };

            dbRequest.onerror = function(e){
                alert("In Error Event");
                console.log(db); 
            };
        }

        
    </script>

</body>
</html>